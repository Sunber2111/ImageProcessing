{"ast":null,"code":"import { CREATE_PICTURE, GET_IMAGE_EDIT, COLOR_TO_GRAY } from '../constants/types';\nimport jimp from 'jimp';\nimport { color2Gray, convertToBase64 } from 'opencv';\nimport { v4 } from 'uuid';\n\nconst {\n  createCanvas,\n  loadImage\n} = require('canvas');\n\nexport const createPicture = url => async dispatch => {\n  try {\n    id = v4();\n    dispatch({\n      type: CREATE_PICTURE,\n      payload: {\n        url,\n        id\n      }\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\nexport const getImageEdit = img => async dispatch => {\n  try {\n    const data = await convertToBase64(img.url);\n    dispatch({\n      type: GET_IMAGE_EDIT,\n      payload: img\n    });\n    dispatch({\n      type: COLOR_TO_GRAY,\n      payload: data\n    });\n  } catch (error) {}\n};\nexport const colorToGray = url => async dispatch => {\n  try {\n    const img = await color2Gray(url);\n    dispatch({\n      type: COLOR_TO_GRAY,\n      payload: img\n    });\n  } catch (error) {}\n};","map":{"version":3,"sources":["D:/XLA/project/src/redux/actions/picture.js"],"names":["CREATE_PICTURE","GET_IMAGE_EDIT","COLOR_TO_GRAY","jimp","color2Gray","convertToBase64","v4","createCanvas","loadImage","require","createPicture","url","dispatch","id","type","payload","error","console","log","getImageEdit","img","data","colorToGray"],"mappings":"AAAA,SAASA,cAAT,EAAwBC,cAAxB,EAAuCC,aAAvC,QAA4D,oBAA5D;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,UAAT,EAAoBC,eAApB,QAA2C,QAA3C;AACA,SAASC,EAAT,QAAmB,MAAnB;;AACA,MAAM;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,IAA8BC,OAAO,CAAC,QAAD,CAA3C;;AAEA,OAAO,MAAMC,aAAa,GAAGC,GAAG,IAAI,MAAMC,QAAN,IAAkB;AAClD,MAAI;AAEAC,IAAAA,EAAE,GAAGP,EAAE,EAAP;AAEAM,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAEd,cADD;AAELe,MAAAA,OAAO,EAAE;AAACJ,QAAAA,GAAD;AAAKE,QAAAA;AAAL;AAFJ,KAAD,CAAR;AAKH,GATD,CASE,OAAOG,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AAEH;AACJ,CAdM;AAgBP,OAAO,MAAMG,YAAY,GAAIC,GAAD,IAAS,MAAMR,QAAN,IAAgB;AACjD,MAAI;AACA,UAAMS,IAAI,GAAG,MAAMhB,eAAe,CAACe,GAAG,CAACT,GAAL,CAAlC;AAEAC,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAACb,cADA;AAELc,MAAAA,OAAO,EAACK;AAFH,KAAD,CAAR;AAKAR,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAACZ,aADA;AAELa,MAAAA,OAAO,EAACM;AAFH,KAAD,CAAR;AAKH,GAbD,CAaE,OAAOL,KAAP,EAAc,CAEf;AACJ,CAjBM;AAmBP,OAAO,MAAMM,WAAW,GAAIX,GAAG,IAAI,MAAMC,QAAN,IAAgB;AAC/C,MAAI;AACA,UAAMQ,GAAG,GAAG,MAAMhB,UAAU,CAACO,GAAD,CAA5B;AAEAC,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAACZ,aADA;AAELa,MAAAA,OAAO,EAACK;AAFH,KAAD,CAAR;AAKH,GARD,CAQE,OAAOJ,KAAP,EAAc,CAEf;AACJ,CAZM","sourcesContent":["import { CREATE_PICTURE,GET_IMAGE_EDIT,COLOR_TO_GRAY } from '../constants/types'\r\nimport jimp from 'jimp'\r\nimport { color2Gray,convertToBase64 } from 'opencv'\r\nimport { v4 } from 'uuid'\r\nconst { createCanvas, loadImage } = require('canvas')\r\n\r\nexport const createPicture = url => async dispatch => {\r\n    try {\r\n        \r\n        id = v4()\r\n\r\n        dispatch({\r\n            type: CREATE_PICTURE,\r\n            payload: {url,id}\r\n        })\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n\r\n    }\r\n}\r\n\r\nexport const getImageEdit = (img) => async dispatch=>{\r\n    try {\r\n        const data = await convertToBase64(img.url)\r\n\r\n        dispatch({\r\n            type:GET_IMAGE_EDIT,\r\n            payload:img\r\n        })\r\n\r\n        dispatch({\r\n            type:COLOR_TO_GRAY,\r\n            payload:data\r\n        })\r\n        \r\n    } catch (error) {\r\n        \r\n    }\r\n}\r\n\r\nexport const colorToGray =  url => async dispatch=>{\r\n    try {\r\n        const img = await color2Gray(url)\r\n\r\n        dispatch({\r\n            type:COLOR_TO_GRAY,\r\n            payload:img\r\n        })\r\n\r\n    } catch (error) {\r\n        \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}